
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Page</title>
    <link rel="stylesheet" href="{% static 'css/output.css' %}">
    <script src="{% static 'js/validation_fileButt.js' %}" defer></script>
</head>

<body class="dark text-gray-900">
    <!-- Main Container -->
    <div class="dark min-h-full ">
        <!-- Navigation Bar -->
        <nav class="w-full border-b-2 border-gray-800 bg-white">
          <div class="container mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
            <!-- Logo -->
            <div class="shrink-0 text-xl font-mono text-black">
              Group_MusicApp
            </div>
        
            <!-- Hamburger Menu for Small Screens -->
            <div class="md:hidden">
              <button id="menu-toggle" class="text-gray-800 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
              </button>
            </div>
        
            <!-- Navigation Links and Forms -->
            <div id="nav-links" class="hidden md:flex space-x-4 items-center">
              <!-- Navigation Links -->
              <div class="flex space-x-4 items-center flex-nowrap">
                <a href="{% url 'dashboard' %}" class="px-2 md:px-3 py-2 text-xs md:text-sm font-medium text-white bg-gray-900 rounded-md">Dashboard</a>
                <a href="#" class="px-2 md:px-3 py-2 text-xs md:text-sm font-medium text-gray-700 rounded-md hover:bg-gray-700 hover:text-white">Recommendations</a>
                <a href="#" class="px-2 md:px-3 py-2 text-xs md:text-sm font-medium text-gray-700 rounded-md hover:bg-gray-700 hover:text-white">Top Charts</a>
              </div>
              
        
              <!-- Search Form -->
              <form method="post" action="{% url 'main_page_view' %}" class="flex items-center gap-2 ml-4">
                {% csrf_token %}
                <input 
                  type="text" 
                  name="search_query" 
                  id="search_query" 
                  class="h-10 px-4 border border-gray-300 rounded-md w-72 focus:ring-blue-500 focus:border-blue-500" 
                  placeholder="Enter Artist/Tracks/Albums" 
                  required
                >
                <button 
                  type="submit" 
                  class="h-10 px-5 text-sm font-medium text-gray-900 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 focus:outline-none dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700"
                >
                  Search
                </button>
              </form>
        
              <!-- Upload Form and Analyze Button -->
              <form method="post" action="{% url 'analyze_image' %}" enctype="multipart/form-data" id="image-upload-form" class="flex items-center ml-4">
                {% csrf_token %}
                <div class="flex items-center gap-4 w-full p-4 rounded-lg dark:border-neutral-700 relative">
                  <div data-hs-file-upload='{"url": "/upload", "acceptedFiles": "image/*", "maxFiles": 1, "singleton": true}'>
                    <div class="flex items-center gap-3">
                      <div class="group" data-hs-file-upload-previews="" data-hs-file-upload-pseudo-trigger="">
                        <span class="group-has-[div]:hidden flex justify-center items-center w-12 h-12 border-2 border-dotted border-gray-300 text-gray-400 cursor-pointer rounded-full hover:bg-gray-50 dark:border-neutral-700 dark:text-neutral-600 dark:hover:bg-neutral-700/50">
                          <img id="image-preview" src="" alt="Preview" class="w-full h-full object-cover rounded-full hidden">
                          <svg id="upload-icon" class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <circle cx="12" cy="10" r="3"></circle>
                            <path d="M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"></path>
                          </svg>
                        </span>
                      </div>
                      <div class="flex items-center gap-2">
                        <input type="file" name="image_file" id="image_file" accept=".png" class="hidden" onchange="previewImage(event)" />
                        <button type="button" class="py-2 px-3 text-xs font-medium rounded-lg border border-gray-200  text-gray-800  hover:bg-gray-200 focus:outline-none focus:bg-gray-400 disabled:opacity-50 disabled:pointer-events-none" onclick="document.getElementById('image_file').click();">
                          Upload
                        </button>
                        <button type="button" class="py-2 px-3 text-xs font-semibold rounded-lg border border-gray-200 bg-white text-gray-500 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800" onclick="clearFileInput()">
                          Delete
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="ml-auto">
                    <button type="submit" class="py-2 px-3 text-xs font-semibold rounded-lg border border-gray-200  text-gray-800  hover:bg-gray-200 shadow-sm  focus:outline-none">
                      Analyze
                    </button>
                  </div>
                  <p id="error-message" class="absolute left-full top-1/2 transform -translate-y-1/2 ml-2 text-red-500 text-xs bg-white border border-red-500 rounded px-3 py-1 shadow-md hidden">
                    No file was uploaded
                  </p>
                </div>
              </form>
            </div>
          </div>
        
          <!-- Mobile Menu for Small Screens -->
          <div id="mobile-menu" class="md:hidden hidden px-4 pt-2 pb-4 border-t border-gray-300 bg-white space-y-4">
            <!-- Mobile Navigation Links -->
            <a href="{% url 'dashboard' %}" class="block px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-700 hover:text-white">Dashboard</a>
            <a href="#" class="block px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-700 hover:text-white">Recommendations</a>
            <a href="#" class="block px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-700 hover:text-white">Top Charts</a>
        
            <!-- Mobile Search Form -->
            <form method="post" action="{% url 'main_page_view' %}" class="flex flex-col gap-2">
              {% csrf_token %}
              <input type="text" name="search_query" id="search_query_mobile" class="h-10 px-4 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="Enter Artist/Tracks/Albums" required>
              <button type="submit" class="h-10 px-5 text-sm font-medium text-gray-900 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 focus:outline-none dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700">
                Search
              </button>
            </form>
        
            <!-- Mobile Upload Form and Analyze Button -->
            <form method="post" action="{% url 'analyze_image' %}" enctype="multipart/form-data" id="image-upload-form-mobile" class="flex flex-col gap-2 mt-4">
              {% csrf_token %}
              <input type="file" name="image_file_mobile" id="image_file_mobile" accept=".png" class="hidden" onchange="previewImage(event)">
              <button type="button" class="py-2 px-3 text-sm font-medium rounded-lg border border-gray-200 bg-blue-600 text-white hover:bg-blue-700" onclick="document.getElementById('image_file_mobile').click();">Upload</button>
              <button type="submit" class="py-2 px-3 text-sm font-semibold rounded-lg bg-blue-600 text-white shadow-sm hover:bg-blue-700">Analyze</button>
            </form>
          </div>
        </nav>
        
        <script>
          // JavaScript to toggle mobile menu visibility
          document.getElementById('menu-toggle').addEventListener('click', function () {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
          });
        </script>
        
      
                                
                              
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
     


        <!-- Default Landing Page Content -->
        {% if default_landing %}
        <div class=" py-24 sm:py-32">
            <div class="mx-auto max-w-2xl px-6 lg:max-w-7xl lg:px-8">
              <h2 class="text-base/7 font-semibold text-indigo-600">Hello, User Name (We may add another feature for asking user to register their own account,it will show their name)</h2>
              <p class="mt-2 max-w-lg text-pretty text-4xl font-semibold tracking-tight text-gray-950 sm:text-5xl">Today, Your Music is...</p>
              <div class="mt-10 grid grid-cols-1 gap-4 sm:mt-16 lg:grid-cols-6 lg:grid-rows-2">
                <div class="relative lg:col-span-3">
                  <div class="absolute inset-px rounded-lg bg-white max-lg:rounded-t-[2rem] lg:rounded-tl-[2rem]"></div>
                  <div class="relative flex h-full flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)] max-lg:rounded-t-[calc(2rem+1px)] lg:rounded-tl-[calc(2rem+1px)]">
                    <video class="h-80 object-cover object-center"  autoplay muted loop>
                        <source src="{% static 'videos/v1.mp4' %}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    
                      

                    <div class="p-10 pt-4">
                      <h3 class="text-sm/4 font-semibold text-indigo-600">Top Chart</h3>
                      <p class="mt-2 text-lg font-medium tracking-tight text-gray-950">Top Chart</p>
                      <p class="mt-2 max-w-lg text-sm/6 text-gray-600">Lorem ipsum dolor sit amet, consectetur adipiscing elit. In gravida justo et nulla efficitur, maximus egestas sem pellentesque.</p>
                    </div>
                  </div>
                  <div class="pointer-events-none absolute inset-px rounded-lg shadow ring-1 ring-black/5 max-lg:rounded-t-[2rem] lg:rounded-tl-[2rem]"></div>
                </div>
                <div class="relative lg:col-span-3">
                  <div class="absolute inset-px rounded-lg bg-white lg:rounded-tr-[2rem]"></div>
                  <div class="relative flex h-full flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)] lg:rounded-tr-[calc(2rem+1px)]">
                    <img class="h-80 object-cover object-left lg:object-right" src="{% static 'images/main_1.png' %}" alt="Main Image1">

                    <div class="p-10 pt-4">
                      <h3 class="text-sm/4 font-semibold text-indigo-600">Recommendations</h3>
                      <p class="mt-2 text-lg font-medium tracking-tight text-gray-950">Recommendations</p>
                      <p class="mt-2 max-w-lg text-sm/6 text-gray-600">Curabitur auctor, ex quis auctor venenatis, eros arcu rhoncus massa, laoreet dapibus ex elit vitae odio.</p>
                    </div>
                  </div>
                  <div class="pointer-events-none absolute inset-px rounded-lg shadow ring-1 ring-black/5 lg:rounded-tr-[2rem]"></div>
                </div>
                <div class="relative lg:col-span-2">
                  <div class="absolute inset-px rounded-lg bg-white lg:rounded-bl-[2rem]"></div>
                  <div class="relative flex h-full flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)] lg:rounded-bl-[calc(2rem+1px)]">
                    <img class="h-80 object-cover object-left lg:object-right" src="{% static 'images/main_2.png' %}" alt="Main Image2">
                    <div class="p-10 pt-4">
                      <h3 class="text-sm/4 font-semibold text-indigo-600">Liked Music</h3>
                      <p class="mt-2 text-lg font-medium tracking-tight text-gray-950">Liked Music</p>
                      <p class="mt-2 max-w-lg text-sm/6 text-gray-600">Sed congue eros non finibus molestie. Vestibulum euismod augue.</p>
                    </div>
                  </div>
                  <div class="pointer-events-none absolute inset-px rounded-lg shadow ring-1 ring-black/5 lg:rounded-bl-[2rem]"></div>
                </div>
                <div class="relative lg:col-span-2">
                  <div class="absolute inset-px rounded-lg bg-white"></div>
                  <div class="relative flex h-full flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)]">
                    <img class="h-80 object-cover object-left lg:object-right" src="{% static 'images/main_3.jpg' %}" alt="Main Image3">
                    <div class="p-10 pt-4">
                      <h3 class="text-sm/4 font-semibold text-indigo-600">Access Your List</h3>
                      <p class="mt-2 text-lg font-medium tracking-tight text-gray-950">Access Your List</p>
                      <p class="mt-2 max-w-lg text-sm/6 text-gray-600">Maecenas at augue sed elit dictum vulputate, in nisi aliquam maximus arcu.</p>
                    </div>
                  </div>
                  <div class="pointer-events-none absolute inset-px rounded-lg shadow ring-1 ring-black/5"></div>
                </div>
                <div class="relative lg:col-span-2">
                  <div class="absolute inset-px rounded-lg bg-white max-lg:rounded-b-[2rem] lg:rounded-br-[2rem]"></div>
                  <div class="relative flex h-full flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)] max-lg:rounded-b-[calc(2rem+1px)] lg:rounded-br-[calc(2rem+1px)]">
                    <img class="h-80 object-cover object-left lg:object-right" src="{% static 'images/main_4.png' %}" alt="Main Image4">
                    <div class="p-10 pt-4">
                      <h3 class="text-sm/4 font-semibold text-indigo-600">Picked For You</h3>
                      <p class="mt-2 text-lg font-medium tracking-tight text-gray-950">Picked For You</p>
                      <p class="mt-2 max-w-lg text-sm/6 text-gray-600">Aenean vulputate justo commodo auctor vehicula in malesuada semper.</p>
                    </div>
                  </div>
                  <div class="pointer-events-none absolute inset-px rounded-lg shadow ring-1 ring-black/5 max-lg:rounded-b-[2rem] lg:rounded-br-[2rem]"></div>
                </div>
              </div>
            </div>
          </div>
          
        {% endif %}

        <!-- Include the Search Results Template -->
        {% include 'search.html' %}
    </div>
</body>
</html>
